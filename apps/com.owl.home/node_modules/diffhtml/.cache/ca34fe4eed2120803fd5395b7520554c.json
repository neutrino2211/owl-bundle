{"id":"OIVQ","dependencies":[{"name":"/home/tbranyen/git/diffhtml/packages/diffhtml/package.json","includedInParent":true,"mtime":1534977442154},{"name":"/home/tbranyen/git/diffhtml/packages/diffhtml/.babelrc","includedInParent":true,"mtime":1534634600429},{"name":"../node/patch","loc":{"line":1,"column":22},"parent":"/home/tbranyen/git/diffhtml/packages/diffhtml/lib/tasks/patch-node.js","resolved":"/home/tbranyen/git/diffhtml/packages/diffhtml/lib/node/patch.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=a;var e=require(\"../node/patch\"),r=t(e);function t(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)}function a(e){var t=e.domNode,a=e.state,n=e.state.measure,s=e.patches,u=e.promises,d=void 0===u?[]:u,c=t.nodeName,i=t.namespaceURI||\"\";a.isSVG=\"svg\"===c.toLowerCase()||i.includes(\"svg\"),a.ownerDocument=t.ownerDocument||document,n(\"patch node\"),d.push.apply(d,o((0,r.default)(s,a))),n(\"patch node\"),e.promises=d}","map":{"mappings":[{"source":"tasks/patch-node.js","original":{"line":24,"column":1},"generated":{"line":1,"column":0}},{"source":"tasks/patch-node.js","original":{"line":24,"column":1},"generated":{"line":1,"column":13}},{"source":"tasks/patch-node.js","original":{"line":24,"column":1},"generated":{"line":1,"column":20}},{"source":"tasks/patch-node.js","original":{"line":24,"column":1},"generated":{"line":1,"column":35}},{"source":"tasks/patch-node.js","original":{"line":24,"column":1},"generated":{"line":1,"column":43}},{"source":"tasks/patch-node.js","original":{"line":24,"column":1},"generated":{"line":1,"column":56}},{"source":"tasks/patch-node.js","original":{"line":24,"column":1},"generated":{"line":1,"column":57}},{"source":"tasks/patch-node.js","original":{"line":24,"column":1},"generated":{"line":1,"column":64}},{"source":"tasks/patch-node.js","name":"patch","original":{"line":9,"column":24},"generated":{"line":1,"column":68}},{"source":"tasks/patch-node.js","name":"patch","original":{"line":9,"column":24},"generated":{"line":1,"column":76}},{"source":"tasks/patch-node.js","name":"patch","original":{"line":9,"column":24},"generated":{"line":1,"column":84}},{"source":"tasks/patch-node.js","original":{"line":1,"column":0},"generated":{"line":1,"column":86}},{"source":"tasks/patch-node.js","original":{"line":1,"column":0},"generated":{"line":1,"column":90}},{"source":"tasks/patch-node.js","original":{"line":1,"column":0},"generated":{"line":1,"column":92}},{"source":"tasks/patch-node.js","original":{"line":1,"column":0},"generated":{"line":1,"column":100}},{"source":"tasks/patch-node.js","original":{"line":24,"column":1},"generated":{"line":1,"column":117}},{"source":"tasks/patch-node.js","original":{"line":24,"column":1},"generated":{"line":1,"column":119}},{"source":"tasks/patch-node.js","original":{"line":24,"column":1},"generated":{"line":1,"column":121}},{"source":"tasks/patch-node.js","original":{"line":24,"column":1},"generated":{"line":1,"column":124}},{"source":"tasks/patch-node.js","original":{"line":24,"column":1},"generated":{"line":1,"column":133}},{"source":"tasks/patch-node.js","original":{"line":24,"column":1},"generated":{"line":1,"column":135}},{"source":"tasks/patch-node.js","original":{"line":24,"column":1},"generated":{"line":1,"column":138}},{"source":"tasks/patch-node.js","original":{"line":24,"column":1},"generated":{"line":1,"column":145}},{"source":"tasks/patch-node.js","original":{"line":24,"column":1},"generated":{"line":1,"column":148}},{"source":"tasks/patch-node.js","original":{"line":24,"column":1},"generated":{"line":1,"column":150}},{"source":"tasks/patch-node.js","original":{"line":24,"column":1},"generated":{"line":1,"column":161}},{"source":"tasks/patch-node.js","original":{"line":24,"column":1},"generated":{"line":1,"column":163}},{"source":"tasks/patch-node.js","original":{"line":24,"column":1},"generated":{"line":1,"column":164}},{"source":"tasks/patch-node.js","original":{"line":24,"column":1},"generated":{"line":1,"column":172}},{"source":"tasks/patch-node.js","original":{"line":24,"column":1},"generated":{"line":1,"column":175}},{"source":"tasks/patch-node.js","original":{"line":24,"column":1},"generated":{"line":1,"column":184}},{"source":"tasks/patch-node.js","original":{"line":24,"column":1},"generated":{"line":1,"column":186}},{"source":"tasks/patch-node.js","original":{"line":24,"column":1},"generated":{"line":1,"column":189}},{"source":"tasks/patch-node.js","original":{"line":24,"column":1},"generated":{"line":1,"column":192}},{"source":"tasks/patch-node.js","original":{"line":24,"column":1},"generated":{"line":1,"column":198}},{"source":"tasks/patch-node.js","original":{"line":24,"column":1},"generated":{"line":1,"column":206}},{"source":"tasks/patch-node.js","original":{"line":24,"column":1},"generated":{"line":1,"column":209}},{"source":"tasks/patch-node.js","original":{"line":24,"column":1},"generated":{"line":1,"column":210}},{"source":"tasks/patch-node.js","original":{"line":24,"column":1},"generated":{"line":1,"column":214}},{"source":"tasks/patch-node.js","original":{"line":24,"column":1},"generated":{"line":1,"column":218}},{"source":"tasks/patch-node.js","original":{"line":24,"column":1},"generated":{"line":1,"column":220}},{"source":"tasks/patch-node.js","original":{"line":24,"column":1},"generated":{"line":1,"column":222}},{"source":"tasks/patch-node.js","original":{"line":24,"column":1},"generated":{"line":1,"column":224}},{"source":"tasks/patch-node.js","original":{"line":24,"column":1},"generated":{"line":1,"column":230}},{"source":"tasks/patch-node.js","original":{"line":24,"column":1},"generated":{"line":1,"column":232}},{"source":"tasks/patch-node.js","original":{"line":24,"column":1},"generated":{"line":1,"column":240}},{"source":"tasks/patch-node.js","original":{"line":24,"column":1},"generated":{"line":1,"column":242}},{"source":"tasks/patch-node.js","original":{"line":24,"column":1},"generated":{"line":1,"column":244}},{"source":"tasks/patch-node.js","original":{"line":24,"column":1},"generated":{"line":1,"column":251}},{"source":"tasks/patch-node.js","original":{"line":24,"column":1},"generated":{"line":1,"column":255}},{"source":"tasks/patch-node.js","original":{"line":24,"column":1},"generated":{"line":1,"column":257}},{"source":"tasks/patch-node.js","original":{"line":24,"column":1},"generated":{"line":1,"column":260}},{"source":"tasks/patch-node.js","original":{"line":24,"column":1},"generated":{"line":1,"column":262}},{"source":"tasks/patch-node.js","original":{"line":24,"column":1},"generated":{"line":1,"column":265}},{"source":"tasks/patch-node.js","original":{"line":24,"column":1},"generated":{"line":1,"column":272}},{"source":"tasks/patch-node.js","original":{"line":24,"column":1},"generated":{"line":1,"column":274}},{"source":"tasks/patch-node.js","original":{"line":24,"column":1},"generated":{"line":1,"column":281}},{"source":"tasks/patch-node.js","original":{"line":24,"column":1},"generated":{"line":1,"column":287}},{"source":"tasks/patch-node.js","original":{"line":24,"column":1},"generated":{"line":1,"column":292}},{"source":"tasks/patch-node.js","original":{"line":9,"column":15},"generated":{"line":1,"column":295}},{"source":"tasks/patch-node.js","name":"patch","original":{"line":9,"column":24},"generated":{"line":1,"column":304}},{"source":"tasks/patch-node.js","name":"transaction","original":{"line":9,"column":30},"generated":{"line":1,"column":306}},{"source":"tasks/patch-node.js","name":"domNode","original":{"line":10,"column":10},"generated":{"line":1,"column":309}},{"source":"tasks/patch-node.js","name":"domNode","original":{"line":10,"column":10},"generated":{"line":1,"column":313}},{"source":"tasks/patch-node.js","name":"transaction","original":{"line":10,"column":58},"generated":{"line":1,"column":315}},{"source":"tasks/patch-node.js","name":"domNode","original":{"line":10,"column":10},"generated":{"line":1,"column":317}},{"source":"tasks/patch-node.js","name":"state","original":{"line":10,"column":19},"generated":{"line":1,"column":325}},{"source":"tasks/patch-node.js","name":"transaction","original":{"line":10,"column":58},"generated":{"line":1,"column":327}},{"source":"tasks/patch-node.js","name":"state","original":{"line":10,"column":19},"generated":{"line":1,"column":329}},{"source":"tasks/patch-node.js","name":"measure","original":{"line":10,"column":35},"generated":{"line":1,"column":335}},{"source":"tasks/patch-node.js","name":"transaction","original":{"line":10,"column":58},"generated":{"line":1,"column":337}},{"source":"tasks/patch-node.js","name":"state","original":{"line":10,"column":26},"generated":{"line":1,"column":339}},{"source":"tasks/patch-node.js","name":"measure","original":{"line":10,"column":35},"generated":{"line":1,"column":345}},{"source":"tasks/patch-node.js","name":"patches","original":{"line":10,"column":46},"generated":{"line":1,"column":353}},{"source":"tasks/patch-node.js","name":"transaction","original":{"line":10,"column":58},"generated":{"line":1,"column":355}},{"source":"tasks/patch-node.js","name":"patches","original":{"line":10,"column":46},"generated":{"line":1,"column":357}},{"source":"tasks/patch-node.js","name":"transaction","original":{"line":11,"column":28},"generated":{"line":1,"column":365}},{"source":"tasks/patch-node.js","name":"transaction","original":{"line":11,"column":28},"generated":{"line":1,"column":367}},{"source":"tasks/patch-node.js","name":"promises","original":{"line":11,"column":10},"generated":{"line":1,"column":369}},{"source":"tasks/patch-node.js","name":"promises","original":{"line":11,"column":10},"generated":{"line":1,"column":378}},{"source":"tasks/patch-node.js","original":{"line":11,"column":21},"generated":{"line":1,"column":385}},{"source":"tasks/patch-node.js","original":{"line":11,"column":21},"generated":{"line":1,"column":389}},{"source":"tasks/patch-node.js","original":{"line":11,"column":21},"generated":{"line":1,"column":391}},{"source":"tasks/patch-node.js","original":{"line":9,"column":43},"generated":{"line":1,"column":394}},{"source":"tasks/patch-node.js","name":"nodeName","original":{"line":12,"column":10},"generated":{"line":1,"column":396}},{"source":"tasks/patch-node.js","name":"domNode","original":{"line":12,"column":23},"generated":{"line":1,"column":398}},{"source":"tasks/patch-node.js","name":"nodeName","original":{"line":12,"column":10},"generated":{"line":1,"column":400}},{"source":"tasks/patch-node.js","name":"namespaceURI","original":{"line":14,"column":8},"generated":{"line":1,"column":409}},{"source":"tasks/patch-node.js","name":"domNode","original":{"line":14,"column":23},"generated":{"line":1,"column":411}},{"source":"tasks/patch-node.js","name":"namespaceURI","original":{"line":14,"column":31},"generated":{"line":1,"column":413}},{"source":"tasks/patch-node.js","original":{"line":14,"column":47},"generated":{"line":1,"column":427}},{"source":"tasks/patch-node.js","name":"isSVG","original":{"line":16,"column":8},"generated":{"line":1,"column":430}},{"source":"tasks/patch-node.js","name":"isSVG","original":{"line":16,"column":8},"generated":{"line":1,"column":432}},{"source":"tasks/patch-node.js","original":{"line":16,"column":43},"generated":{"line":1,"column":438}},{"source":"tasks/patch-node.js","name":"nodeName","original":{"line":16,"column":16},"generated":{"line":1,"column":446}},{"source":"tasks/patch-node.js","name":"toLowerCase","original":{"line":16,"column":25},"generated":{"line":1,"column":448}},{"source":"tasks/patch-node.js","name":"namespaceURI","original":{"line":16,"column":52},"generated":{"line":1,"column":463}},{"source":"tasks/patch-node.js","name":"includes","original":{"line":16,"column":65},"generated":{"line":1,"column":465}},{"source":"tasks/patch-node.js","original":{"line":16,"column":74},"generated":{"line":1,"column":474}},{"source":"tasks/patch-node.js","name":"ownerDocument","original":{"line":17,"column":8},"generated":{"line":1,"column":481}},{"source":"tasks/patch-node.js","name":"ownerDocument","original":{"line":17,"column":8},"generated":{"line":1,"column":483}},{"source":"tasks/patch-node.js","name":"domNode","original":{"line":17,"column":24},"generated":{"line":1,"column":497}},{"source":"tasks/patch-node.js","name":"ownerDocument","original":{"line":17,"column":32},"generated":{"line":1,"column":499}},{"source":"tasks/patch-node.js","name":"document","original":{"line":17,"column":49},"generated":{"line":1,"column":514}},{"source":"tasks/patch-node.js","original":{"line":19,"column":10},"generated":{"line":1,"column":523}},{"source":"tasks/patch-node.js","original":{"line":19,"column":10},"generated":{"line":1,"column":525}},{"source":"tasks/patch-node.js","name":"push","original":{"line":20,"column":11},"generated":{"line":1,"column":539}},{"source":"tasks/patch-node.js","name":"push","original":{"line":20,"column":11},"generated":{"line":1,"column":541}},{"source":"tasks/patch-node.js","original":{"line":20,"column":19},"generated":{"line":1,"column":546}},{"source":"tasks/patch-node.js","original":{"line":20,"column":19},"generated":{"line":1,"column":552}},{"source":"tasks/patch-node.js","original":{"line":20,"column":19},"generated":{"line":1,"column":554}},{"source":"tasks/patch-node.js","original":{"line":20,"column":19},"generated":{"line":1,"column":557}},{"source":"tasks/patch-node.js","name":"patches","original":{"line":20,"column":29},"generated":{"line":1,"column":559}},{"source":"tasks/patch-node.js","name":"patches","original":{"line":20,"column":29},"generated":{"line":1,"column":561}},{"source":"tasks/patch-node.js","name":"patches","original":{"line":20,"column":29},"generated":{"line":1,"column":570}},{"source":"tasks/patch-node.js","name":"state","original":{"line":20,"column":38},"generated":{"line":1,"column":572}},{"source":"tasks/patch-node.js","original":{"line":21,"column":10},"generated":{"line":1,"column":577}},{"source":"tasks/patch-node.js","original":{"line":21,"column":10},"generated":{"line":1,"column":579}},{"source":"tasks/patch-node.js","name":"promises","original":{"line":23,"column":14},"generated":{"line":1,"column":593}},{"source":"tasks/patch-node.js","name":"promises","original":{"line":23,"column":14},"generated":{"line":1,"column":595}},{"source":"tasks/patch-node.js","name":"promises","original":{"line":23,"column":25},"generated":{"line":1,"column":604}}],"sources":{"tasks/patch-node.js":"import patchNode from '../node/patch';\n\n/**\n * Processes a set of patches onto a tracked DOM Node.\n *\n * @param {Object} node - DOM Node to process patchs on\n * @param {Array} patches - Contains patch objects\n */\nexport default function patch(transaction) {\n  const { domNode, state, state: { measure }, patches } = transaction;\n  const { promises = [] } = transaction;\n  const { nodeName } = domNode;\n\n  const namespaceURI = domNode.namespaceURI || '';\n\n  state.isSVG = nodeName.toLowerCase() === 'svg' || namespaceURI.includes('svg');\n  state.ownerDocument = domNode.ownerDocument || document;\n\n  measure('patch node');\n  promises.push(...patchNode(patches, state));\n  measure('patch node');\n\n  transaction.promises = promises;\n}\n"},"lineCount":null}},"hash":"055452dbd9fd84fbce30a0c31aa8f775","cacheData":{"env":{}}}
{"id":"Y3L4","dependencies":[{"name":"/home/tbranyen/git/diffhtml/packages/diffhtml/package.json","includedInParent":true,"mtime":1534977442154},{"name":"/home/tbranyen/git/diffhtml/packages/diffhtml/.babelrc","includedInParent":true,"mtime":1534634600429},{"name":"./util/caches","loc":{"line":1,"column":44},"parent":"/home/tbranyen/git/diffhtml/packages/diffhtml/lib/transaction.js","resolved":"/home/tbranyen/git/diffhtml/packages/diffhtml/lib/util/caches.js"},{"name":"./util/memory","loc":{"line":2,"column":42},"parent":"/home/tbranyen/git/diffhtml/packages/diffhtml/lib/transaction.js","resolved":"/home/tbranyen/git/diffhtml/packages/diffhtml/lib/util/memory.js"},{"name":"./util/make-measure","loc":{"line":3,"column":24},"parent":"/home/tbranyen/git/diffhtml/packages/diffhtml/lib/transaction.js","resolved":"/home/tbranyen/git/diffhtml/packages/diffhtml/lib/util/make-measure.js"},{"name":"./util/process","loc":{"line":4,"column":20},"parent":"/home/tbranyen/git/diffhtml/packages/diffhtml/lib/transaction.js","resolved":"/home/tbranyen/git/diffhtml/packages/diffhtml/lib/util/process.js"},{"name":"./tasks/schedule","loc":{"line":5,"column":21},"parent":"/home/tbranyen/git/diffhtml/packages/diffhtml/lib/transaction.js","resolved":"/home/tbranyen/git/diffhtml/packages/diffhtml/lib/tasks/schedule.js"},{"name":"./tasks/should-update","loc":{"line":6,"column":25},"parent":"/home/tbranyen/git/diffhtml/packages/diffhtml/lib/transaction.js","resolved":"/home/tbranyen/git/diffhtml/packages/diffhtml/lib/tasks/should-update.js"},{"name":"./tasks/reconcile-trees","loc":{"line":7,"column":27},"parent":"/home/tbranyen/git/diffhtml/packages/diffhtml/lib/transaction.js","resolved":"/home/tbranyen/git/diffhtml/packages/diffhtml/lib/tasks/reconcile-trees.js"},{"name":"./tasks/sync-trees","loc":{"line":8,"column":22},"parent":"/home/tbranyen/git/diffhtml/packages/diffhtml/lib/transaction.js","resolved":"/home/tbranyen/git/diffhtml/packages/diffhtml/lib/tasks/sync-trees.js"},{"name":"./tasks/patch-node","loc":{"line":9,"column":22},"parent":"/home/tbranyen/git/diffhtml/packages/diffhtml/lib/transaction.js","resolved":"/home/tbranyen/git/diffhtml/packages/diffhtml/lib/tasks/patch-node.js"},{"name":"./tasks/end-as-promise","loc":{"line":10,"column":25},"parent":"/home/tbranyen/git/diffhtml/packages/diffhtml/lib/transaction.js","resolved":"/home/tbranyen/git/diffhtml/packages/diffhtml/lib/tasks/end-as-promise.js"}],"generated":{"js":"\n\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.tasks=exports.defaultTasks=void 0;var e=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},t=function(){function e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,\"value\"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,r,s){return r&&e(t.prototype,r),s&&e(t,s),t}}(),r=require(\"./util/caches\"),s=require(\"./util/memory\"),a=require(\"./util/make-measure\"),o=w(a),n=require(\"./util/process\"),i=w(n),u=require(\"./tasks/schedule\"),l=w(u),d=require(\"./tasks/should-update\"),c=w(d),f=require(\"./tasks/reconcile-trees\"),h=w(f),p=require(\"./tasks/sync-trees\"),k=w(p),y=require(\"./tasks/patch-node\"),m=w(y),v=require(\"./tasks/end-as-promise\"),b=w(v);function w(e){return e&&e.__esModule?e:{default:e}}function q(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}var M=exports.defaultTasks=[l.default,c.default,h.default,k.default,m.default,b.default],T=exports.tasks={schedule:l.default,shouldUpdate:c.default,reconcileTrees:h.default,syncTrees:k.default,patchNode:m.default,endAsPromise:b.default},C=function(){function a(e,t,s){q(this,a),this.domNode=e,this.markup=t,this.options=s,this.state=r.StateCache.get(e)||{measure:(0,o.default)(e,t)},this.tasks=[].concat(s.tasks),this.endedCallbacks=new Set,r.StateCache.set(e,this.state)}return t(a,null,[{key:\"create\",value:function(e,t,r){return new a(e,t,r)}},{key:\"flow\",value:function(e,t){for(var r=e,s=0;s<t.length;s++){if(e.aborted)return r;if(void 0!==(r=t[s](e))&&r!==e)return r}}},{key:\"assert\",value:function(t){if(\"object\"!==e(t.domNode))throw new Error(\"Transaction requires a DOM Node mount point\");if(t.aborted&&t.completed)throw new Error(\"Transaction was previously aborted\");if(t.completed)throw new Error(\"Transaction was previously completed\")}},{key:\"invokeMiddleware\",value:function(e){var t=e.tasks;r.MiddlewareCache.forEach(function(r){var s=r(e);s&&t.push(s)})}}]),t(a,[{key:\"start\",value:function(){a.assert(this);this.domNode;var e=this.state.measure,t=this.tasks,r=t.pop();return this.aborted=!1,a.invokeMiddleware(this),e(\"render\"),t.push(r),a.flow(this,t)}},{key:\"abort\",value:function(e){this.state;if(this.aborted=!0,e)return this.tasks[this.tasks.length-1](this)}},{key:\"end\",value:function(){var e=this,t=this.state,r=this.domNode,a=this.options,o=t.measure;a.inner;return o(\"finalize\"),this.completed=!0,o(\"finalize\"),o(\"render\"),this.endedCallbacks.forEach(function(t){return t(e)}),this.endedCallbacks.clear(),t.previousMarkup=r.outerHTML,t.isRendering=!1,(0,s.cleanMemory)(),this}},{key:\"onceEnded\",value:function(e){this.endedCallbacks.add(e)}}]),a}();exports.default=C;","map":{"mappings":[{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":0}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":13}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":20}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":35}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":43}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":56}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":57}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":64}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":68}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":76}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":82}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":90}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":108}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":110}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":114}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":116}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":135}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":143}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":160}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":167}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":176}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":185}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":188}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":202}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":205}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":214}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":217}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":224}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":227}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":246}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":254}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":256}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":270}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":278}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":282}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":289}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":299}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":315}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":318}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":320}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":331}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":340}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":342}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":344}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":347}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":351}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":355}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":357}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":359}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":361}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":363}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":370}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":374}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":375}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":379}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":381}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":383}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":386}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":388}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":399}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":401}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":414}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":416}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":418}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":432}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":434}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":444}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":448}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":450}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":460}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":463}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":470}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":485}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":487}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":489}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":493}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":497}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":504}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":513}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":515}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":517}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":520}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":527}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":530}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":532}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":534}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":544}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":547}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":550}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":552}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":554}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":557}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":560}},{"source":"transaction.js","original":{"line":1,"column":0},"generated":{"line":2,"column":563}},{"source":"transaction.js","original":{"line":1,"column":0},"generated":{"line":2,"column":565}},{"source":"transaction.js","original":{"line":1,"column":0},"generated":{"line":2,"column":573}},{"source":"transaction.js","original":{"line":2,"column":0},"generated":{"line":2,"column":590}},{"source":"transaction.js","original":{"line":2,"column":0},"generated":{"line":2,"column":592}},{"source":"transaction.js","original":{"line":2,"column":0},"generated":{"line":2,"column":600}},{"source":"transaction.js","original":{"line":3,"column":0},"generated":{"line":2,"column":617}},{"source":"transaction.js","original":{"line":3,"column":0},"generated":{"line":2,"column":619}},{"source":"transaction.js","original":{"line":3,"column":0},"generated":{"line":2,"column":627}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":650}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":652}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":654}},{"source":"transaction.js","original":{"line":4,"column":0},"generated":{"line":2,"column":657}},{"source":"transaction.js","original":{"line":4,"column":0},"generated":{"line":2,"column":659}},{"source":"transaction.js","original":{"line":4,"column":0},"generated":{"line":2,"column":667}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":685}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":687}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":689}},{"source":"transaction.js","original":{"line":5,"column":0},"generated":{"line":2,"column":692}},{"source":"transaction.js","original":{"line":5,"column":0},"generated":{"line":2,"column":694}},{"source":"transaction.js","original":{"line":5,"column":0},"generated":{"line":2,"column":702}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":722}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":724}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":726}},{"source":"transaction.js","original":{"line":6,"column":0},"generated":{"line":2,"column":729}},{"source":"transaction.js","original":{"line":6,"column":0},"generated":{"line":2,"column":731}},{"source":"transaction.js","original":{"line":6,"column":0},"generated":{"line":2,"column":739}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":764}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":766}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":768}},{"source":"transaction.js","original":{"line":7,"column":0},"generated":{"line":2,"column":771}},{"source":"transaction.js","original":{"line":7,"column":0},"generated":{"line":2,"column":773}},{"source":"transaction.js","original":{"line":7,"column":0},"generated":{"line":2,"column":781}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":808}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":810}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":812}},{"source":"transaction.js","original":{"line":8,"column":0},"generated":{"line":2,"column":815}},{"source":"transaction.js","original":{"line":8,"column":0},"generated":{"line":2,"column":817}},{"source":"transaction.js","original":{"line":8,"column":0},"generated":{"line":2,"column":825}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":847}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":849}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":851}},{"source":"transaction.js","original":{"line":9,"column":0},"generated":{"line":2,"column":854}},{"source":"transaction.js","original":{"line":9,"column":0},"generated":{"line":2,"column":856}},{"source":"transaction.js","original":{"line":9,"column":0},"generated":{"line":2,"column":864}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":886}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":888}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":890}},{"source":"transaction.js","original":{"line":10,"column":0},"generated":{"line":2,"column":893}},{"source":"transaction.js","original":{"line":10,"column":0},"generated":{"line":2,"column":895}},{"source":"transaction.js","original":{"line":10,"column":0},"generated":{"line":2,"column":903}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":929}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":931}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":933}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":936}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":945}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":947}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":950}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":957}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":960}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":962}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":973}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":975}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":976}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":984}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":987}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":996}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":998}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":1000}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":1003}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":1008}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":1021}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":1024}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":1030}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":1034}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":1044}},{"source":"transaction.js","original":{"line":12,"column":7},"generated":{"line":2,"column":1081}},{"source":"transaction.js","name":"defaultTasks","original":{"line":12,"column":13},"generated":{"line":2,"column":1085}},{"source":"transaction.js","original":{"line":12,"column":28},"generated":{"line":2,"column":1087}},{"source":"transaction.js","original":{"line":12,"column":28},"generated":{"line":2,"column":1095}},{"source":"transaction.js","original":{"line":12,"column":28},"generated":{"line":2,"column":1108}},{"source":"transaction.js","name":"schedule","original":{"line":13,"column":2},"generated":{"line":2,"column":1109}},{"source":"transaction.js","original":{"line":12,"column":28},"generated":{"line":2,"column":1111}},{"source":"transaction.js","name":"shouldUpdate","original":{"line":13,"column":12},"generated":{"line":2,"column":1119}},{"source":"transaction.js","original":{"line":12,"column":28},"generated":{"line":2,"column":1121}},{"source":"transaction.js","name":"reconcileTrees","original":{"line":13,"column":26},"generated":{"line":2,"column":1129}},{"source":"transaction.js","original":{"line":12,"column":28},"generated":{"line":2,"column":1131}},{"source":"transaction.js","name":"syncTrees","original":{"line":13,"column":42},"generated":{"line":2,"column":1139}},{"source":"transaction.js","original":{"line":12,"column":28},"generated":{"line":2,"column":1141}},{"source":"transaction.js","name":"patchNode","original":{"line":13,"column":53},"generated":{"line":2,"column":1149}},{"source":"transaction.js","original":{"line":12,"column":28},"generated":{"line":2,"column":1151}},{"source":"transaction.js","name":"endAsPromise","original":{"line":13,"column":64},"generated":{"line":2,"column":1159}},{"source":"transaction.js","original":{"line":12,"column":28},"generated":{"line":2,"column":1161}},{"source":"transaction.js","name":"tasks","original":{"line":16,"column":13},"generated":{"line":2,"column":1170}},{"source":"transaction.js","original":{"line":16,"column":21},"generated":{"line":2,"column":1172}},{"source":"transaction.js","original":{"line":16,"column":21},"generated":{"line":2,"column":1180}},{"source":"transaction.js","original":{"line":16,"column":21},"generated":{"line":2,"column":1186}},{"source":"transaction.js","original":{"line":16,"column":21},"generated":{"line":2,"column":1187}},{"source":"transaction.js","original":{"line":16,"column":21},"generated":{"line":2,"column":1196}},{"source":"transaction.js","original":{"line":16,"column":21},"generated":{"line":2,"column":1198}},{"source":"transaction.js","name":"shouldUpdate","original":{"line":17,"column":12},"generated":{"line":2,"column":1206}},{"source":"transaction.js","original":{"line":16,"column":21},"generated":{"line":2,"column":1219}},{"source":"transaction.js","original":{"line":16,"column":21},"generated":{"line":2,"column":1221}},{"source":"transaction.js","name":"reconcileTrees","original":{"line":17,"column":26},"generated":{"line":2,"column":1229}},{"source":"transaction.js","original":{"line":16,"column":21},"generated":{"line":2,"column":1244}},{"source":"transaction.js","original":{"line":16,"column":21},"generated":{"line":2,"column":1246}},{"source":"transaction.js","name":"syncTrees","original":{"line":17,"column":42},"generated":{"line":2,"column":1254}},{"source":"transaction.js","original":{"line":16,"column":21},"generated":{"line":2,"column":1264}},{"source":"transaction.js","original":{"line":16,"column":21},"generated":{"line":2,"column":1266}},{"source":"transaction.js","name":"patchNode","original":{"line":17,"column":53},"generated":{"line":2,"column":1274}},{"source":"transaction.js","original":{"line":16,"column":21},"generated":{"line":2,"column":1284}},{"source":"transaction.js","original":{"line":16,"column":21},"generated":{"line":2,"column":1286}},{"source":"transaction.js","name":"endAsPromise","original":{"line":17,"column":64},"generated":{"line":2,"column":1294}},{"source":"transaction.js","name":"endAsPromise","original":{"line":17,"column":64},"generated":{"line":2,"column":1307}},{"source":"transaction.js","name":"endAsPromise","original":{"line":17,"column":64},"generated":{"line":2,"column":1309}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":1318}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":1320}},{"source":"transaction.js","name":"domNode","original":{"line":81,"column":14},"generated":{"line":2,"column":1331}},{"source":"transaction.js","name":"domNode","original":{"line":81,"column":14},"generated":{"line":2,"column":1340}},{"source":"transaction.js","name":"domNode","original":{"line":81,"column":14},"generated":{"line":2,"column":1342}},{"source":"transaction.js","name":"markup","original":{"line":81,"column":23},"generated":{"line":2,"column":1344}},{"source":"transaction.js","name":"options","original":{"line":81,"column":31},"generated":{"line":2,"column":1346}},{"source":"transaction.js","original":{"line":81,"column":40},"generated":{"line":2,"column":1349}},{"source":"transaction.js","original":{"line":81,"column":40},"generated":{"line":2,"column":1351}},{"source":"transaction.js","original":{"line":81,"column":40},"generated":{"line":2,"column":1356}},{"source":"transaction.js","name":"domNode","original":{"line":82,"column":9},"generated":{"line":2,"column":1359}},{"source":"transaction.js","name":"domNode","original":{"line":82,"column":9},"generated":{"line":2,"column":1364}},{"source":"transaction.js","name":"domNode","original":{"line":82,"column":19},"generated":{"line":2,"column":1372}},{"source":"transaction.js","name":"markup","original":{"line":83,"column":9},"generated":{"line":2,"column":1374}},{"source":"transaction.js","name":"markup","original":{"line":83,"column":9},"generated":{"line":2,"column":1379}},{"source":"transaction.js","name":"markup","original":{"line":83,"column":18},"generated":{"line":2,"column":1386}},{"source":"transaction.js","name":"options","original":{"line":84,"column":9},"generated":{"line":2,"column":1388}},{"source":"transaction.js","name":"options","original":{"line":84,"column":9},"generated":{"line":2,"column":1393}},{"source":"transaction.js","name":"options","original":{"line":84,"column":19},"generated":{"line":2,"column":1401}},{"source":"transaction.js","name":"state","original":{"line":86,"column":9},"generated":{"line":2,"column":1403}},{"source":"transaction.js","name":"state","original":{"line":86,"column":9},"generated":{"line":2,"column":1408}},{"source":"transaction.js","name":"StateCache","original":{"line":86,"column":17},"generated":{"line":2,"column":1414}},{"source":"transaction.js","name":"get","original":{"line":86,"column":28},"generated":{"line":2,"column":1416}},{"source":"transaction.js","name":"get","original":{"line":86,"column":28},"generated":{"line":2,"column":1427}},{"source":"transaction.js","name":"domNode","original":{"line":86,"column":32},"generated":{"line":2,"column":1431}},{"source":"transaction.js","original":{"line":86,"column":44},"generated":{"line":2,"column":1435}},{"source":"transaction.js","original":{"line":87,"column":15},"generated":{"line":2,"column":1436}},{"source":"transaction.js","original":{"line":87,"column":15},"generated":{"line":2,"column":1445}},{"source":"transaction.js","name":"domNode","original":{"line":87,"column":27},"generated":{"line":2,"column":1447}},{"source":"transaction.js","name":"domNode","original":{"line":87,"column":27},"generated":{"line":2,"column":1449}},{"source":"transaction.js","name":"domNode","original":{"line":87,"column":27},"generated":{"line":2,"column":1458}},{"source":"transaction.js","name":"markup","original":{"line":87,"column":36},"generated":{"line":2,"column":1460}},{"source":"transaction.js","name":"tasks","original":{"line":90,"column":9},"generated":{"line":2,"column":1464}},{"source":"transaction.js","name":"tasks","original":{"line":90,"column":9},"generated":{"line":2,"column":1469}},{"source":"transaction.js","original":{"line":90,"column":17},"generated":{"line":2,"column":1475}},{"source":"transaction.js","name":"concat","original":{"line":90,"column":20},"generated":{"line":2,"column":1478}},{"source":"transaction.js","name":"options","original":{"line":90,"column":27},"generated":{"line":2,"column":1485}},{"source":"transaction.js","name":"tasks","original":{"line":90,"column":35},"generated":{"line":2,"column":1487}},{"source":"transaction.js","name":"endedCallbacks","original":{"line":93,"column":9},"generated":{"line":2,"column":1494}},{"source":"transaction.js","name":"endedCallbacks","original":{"line":93,"column":9},"generated":{"line":2,"column":1499}},{"source":"transaction.js","original":{"line":93,"column":26},"generated":{"line":2,"column":1514}},{"source":"transaction.js","name":"Set","original":{"line":93,"column":30},"generated":{"line":2,"column":1518}},{"source":"transaction.js","name":"set","original":{"line":95,"column":15},"generated":{"line":2,"column":1522}},{"source":"transaction.js","name":"set","original":{"line":95,"column":15},"generated":{"line":2,"column":1524}},{"source":"transaction.js","name":"set","original":{"line":95,"column":15},"generated":{"line":2,"column":1535}},{"source":"transaction.js","name":"domNode","original":{"line":95,"column":19},"generated":{"line":2,"column":1539}},{"source":"transaction.js","original":{"line":95,"column":28},"generated":{"line":2,"column":1541}},{"source":"transaction.js","name":"state","original":{"line":95,"column":33},"generated":{"line":2,"column":1546}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":1553}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":1560}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":1562}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":1564}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":1569}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":1570}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":1571}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":1575}},{"source":"transaction.js","name":"domNode","original":{"line":21,"column":16},"generated":{"line":2,"column":1584}},{"source":"transaction.js","name":"domNode","original":{"line":21,"column":16},"generated":{"line":2,"column":1590}},{"source":"transaction.js","name":"domNode","original":{"line":21,"column":16},"generated":{"line":2,"column":1599}},{"source":"transaction.js","name":"markup","original":{"line":21,"column":25},"generated":{"line":2,"column":1601}},{"source":"transaction.js","name":"options","original":{"line":21,"column":33},"generated":{"line":2,"column":1603}},{"source":"transaction.js","original":{"line":22,"column":11},"generated":{"line":2,"column":1606}},{"source":"transaction.js","original":{"line":22,"column":11},"generated":{"line":2,"column":1613}},{"source":"transaction.js","name":"Transaction","original":{"line":22,"column":15},"generated":{"line":2,"column":1617}},{"source":"transaction.js","name":"domNode","original":{"line":22,"column":27},"generated":{"line":2,"column":1619}},{"source":"transaction.js","name":"markup","original":{"line":22,"column":36},"generated":{"line":2,"column":1621}},{"source":"transaction.js","name":"options","original":{"line":22,"column":44},"generated":{"line":2,"column":1623}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":1628}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":1629}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":1633}},{"source":"transaction.js","name":"transaction","original":{"line":25,"column":14},"generated":{"line":2,"column":1640}},{"source":"transaction.js","name":"transaction","original":{"line":25,"column":14},"generated":{"line":2,"column":1646}},{"source":"transaction.js","name":"transaction","original":{"line":25,"column":14},"generated":{"line":2,"column":1655}},{"source":"transaction.js","name":"tasks","original":{"line":25,"column":27},"generated":{"line":2,"column":1657}},{"source":"transaction.js","original":{"line":30,"column":9},"generated":{"line":2,"column":1660}},{"source":"transaction.js","name":"retVal","original":{"line":26,"column":8},"generated":{"line":2,"column":1664}},{"source":"transaction.js","name":"retVal","original":{"line":26,"column":8},"generated":{"line":2,"column":1668}},{"source":"transaction.js","name":"transaction","original":{"line":26,"column":17},"generated":{"line":2,"column":1670}},{"source":"transaction.js","name":"i","original":{"line":30,"column":13},"generated":{"line":2,"column":1672}},{"source":"transaction.js","original":{"line":30,"column":17},"generated":{"line":2,"column":1674}},{"source":"transaction.js","name":"i","original":{"line":30,"column":20},"generated":{"line":2,"column":1676}},{"source":"transaction.js","name":"tasks","original":{"line":30,"column":24},"generated":{"line":2,"column":1678}},{"source":"transaction.js","name":"length","original":{"line":30,"column":30},"generated":{"line":2,"column":1680}},{"source":"transaction.js","name":"i","original":{"line":30,"column":38},"generated":{"line":2,"column":1687}},{"source":"transaction.js","original":{"line":30,"column":43},"generated":{"line":2,"column":1691}},{"source":"transaction.js","name":"transaction","original":{"line":32,"column":10},"generated":{"line":2,"column":1692}},{"source":"transaction.js","name":"transaction","original":{"line":32,"column":10},"generated":{"line":2,"column":1695}},{"source":"transaction.js","name":"aborted","original":{"line":32,"column":22},"generated":{"line":2,"column":1697}},{"source":"transaction.js","name":"retVal","original":{"line":33,"column":15},"generated":{"line":2,"column":1705}},{"source":"transaction.js","name":"retVal","original":{"line":33,"column":15},"generated":{"line":2,"column":1712}},{"source":"transaction.js","name":"retVal","original":{"line":44,"column":10},"generated":{"line":2,"column":1714}},{"source":"transaction.js","name":"undefined","original":{"line":44,"column":21},"generated":{"line":2,"column":1722}},{"source":"transaction.js","name":"tasks","original":{"line":37,"column":15},"generated":{"line":2,"column":1727}},{"source":"transaction.js","name":"tasks","original":{"line":37,"column":15},"generated":{"line":2,"column":1729}},{"source":"transaction.js","name":"i","original":{"line":37,"column":21},"generated":{"line":2,"column":1731}},{"source":"transaction.js","name":"transaction","original":{"line":37,"column":24},"generated":{"line":2,"column":1734}},{"source":"transaction.js","name":"retVal","original":{"line":44,"column":34},"generated":{"line":2,"column":1739}},{"source":"transaction.js","name":"transaction","original":{"line":44,"column":45},"generated":{"line":2,"column":1743}},{"source":"transaction.js","name":"retVal","original":{"line":45,"column":15},"generated":{"line":2,"column":1745}},{"source":"transaction.js","name":"retVal","original":{"line":45,"column":15},"generated":{"line":2,"column":1752}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":1757}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":1758}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":1762}},{"source":"transaction.js","name":"transaction","original":{"line":50,"column":16},"generated":{"line":2,"column":1771}},{"source":"transaction.js","name":"transaction","original":{"line":50,"column":16},"generated":{"line":2,"column":1777}},{"source":"transaction.js","name":"transaction","original":{"line":50,"column":16},"generated":{"line":2,"column":1786}},{"source":"transaction.js","original":{"line":52,"column":10},"generated":{"line":2,"column":1789}},{"source":"transaction.js","original":{"line":52,"column":41},"generated":{"line":2,"column":1792}},{"source":"transaction.js","original":{"line":52,"column":10},"generated":{"line":2,"column":1803}},{"source":"transaction.js","name":"transaction","original":{"line":52,"column":17},"generated":{"line":2,"column":1805}},{"source":"transaction.js","name":"domNode","original":{"line":52,"column":29},"generated":{"line":2,"column":1807}},{"source":"transaction.js","original":{"line":53,"column":14},"generated":{"line":2,"column":1816}},{"source":"transaction.js","original":{"line":53,"column":14},"generated":{"line":2,"column":1822}},{"source":"transaction.js","name":"Error","original":{"line":53,"column":18},"generated":{"line":2,"column":1826}},{"source":"transaction.js","original":{"line":53,"column":24},"generated":{"line":2,"column":1832}},{"source":"transaction.js","name":"transaction","original":{"line":56,"column":10},"generated":{"line":2,"column":1879}},{"source":"transaction.js","name":"transaction","original":{"line":56,"column":10},"generated":{"line":2,"column":1882}},{"source":"transaction.js","name":"aborted","original":{"line":56,"column":22},"generated":{"line":2,"column":1884}},{"source":"transaction.js","name":"transaction","original":{"line":56,"column":33},"generated":{"line":2,"column":1893}},{"source":"transaction.js","name":"completed","original":{"line":56,"column":45},"generated":{"line":2,"column":1895}},{"source":"transaction.js","original":{"line":57,"column":14},"generated":{"line":2,"column":1905}},{"source":"transaction.js","original":{"line":57,"column":14},"generated":{"line":2,"column":1911}},{"source":"transaction.js","name":"Error","original":{"line":57,"column":18},"generated":{"line":2,"column":1915}},{"source":"transaction.js","original":{"line":57,"column":24},"generated":{"line":2,"column":1921}},{"source":"transaction.js","name":"transaction","original":{"line":60,"column":10},"generated":{"line":2,"column":1959}},{"source":"transaction.js","name":"transaction","original":{"line":60,"column":10},"generated":{"line":2,"column":1962}},{"source":"transaction.js","name":"completed","original":{"line":60,"column":22},"generated":{"line":2,"column":1964}},{"source":"transaction.js","original":{"line":61,"column":14},"generated":{"line":2,"column":1974}},{"source":"transaction.js","original":{"line":61,"column":14},"generated":{"line":2,"column":1980}},{"source":"transaction.js","name":"Error","original":{"line":61,"column":18},"generated":{"line":2,"column":1984}},{"source":"transaction.js","original":{"line":61,"column":24},"generated":{"line":2,"column":1990}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":2032}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":2033}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":2037}},{"source":"transaction.js","name":"transaction","original":{"line":66,"column":26},"generated":{"line":2,"column":2056}},{"source":"transaction.js","name":"transaction","original":{"line":66,"column":26},"generated":{"line":2,"column":2062}},{"source":"transaction.js","name":"transaction","original":{"line":66,"column":26},"generated":{"line":2,"column":2071}},{"source":"transaction.js","name":"tasks","original":{"line":67,"column":12},"generated":{"line":2,"column":2074}},{"source":"transaction.js","name":"tasks","original":{"line":67,"column":12},"generated":{"line":2,"column":2078}},{"source":"transaction.js","name":"transaction","original":{"line":67,"column":22},"generated":{"line":2,"column":2080}},{"source":"transaction.js","name":"tasks","original":{"line":67,"column":12},"generated":{"line":2,"column":2082}},{"source":"transaction.js","name":"forEach","original":{"line":69,"column":20},"generated":{"line":2,"column":2088}},{"source":"transaction.js","name":"forEach","original":{"line":69,"column":20},"generated":{"line":2,"column":2090}},{"source":"transaction.js","name":"forEach","original":{"line":69,"column":20},"generated":{"line":2,"column":2106}},{"source":"transaction.js","original":{"line":69,"column":28},"generated":{"line":2,"column":2114}},{"source":"transaction.js","original":{"line":69,"column":34},"generated":{"line":2,"column":2123}},{"source":"transaction.js","name":"result","original":{"line":73,"column":12},"generated":{"line":2,"column":2126}},{"source":"transaction.js","name":"result","original":{"line":73,"column":12},"generated":{"line":2,"column":2130}},{"source":"transaction.js","name":"fn","original":{"line":73,"column":21},"generated":{"line":2,"column":2132}},{"source":"transaction.js","name":"transaction","original":{"line":73,"column":24},"generated":{"line":2,"column":2134}},{"source":"transaction.js","name":"result","original":{"line":75,"column":10},"generated":{"line":2,"column":2137}},{"source":"transaction.js","name":"push","original":{"line":76,"column":14},"generated":{"line":2,"column":2140}},{"source":"transaction.js","name":"push","original":{"line":76,"column":14},"generated":{"line":2,"column":2142}},{"source":"transaction.js","name":"result","original":{"line":76,"column":19},"generated":{"line":2,"column":2147}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":2156}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":2158}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":2160}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":2161}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":2162}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":2166}},{"source":"transaction.js","original":{"line":98,"column":10},"generated":{"line":2,"column":2174}},{"source":"transaction.js","original":{"line":98,"column":10},"generated":{"line":2,"column":2180}},{"source":"transaction.js","name":"assert","original":{"line":100,"column":18},"generated":{"line":2,"column":2191}},{"source":"transaction.js","name":"assert","original":{"line":100,"column":18},"generated":{"line":2,"column":2193}},{"source":"transaction.js","original":{"line":100,"column":25},"generated":{"line":2,"column":2200}},{"source":"transaction.js","original":{"line":103,"column":51},"generated":{"line":2,"column":2206}},{"source":"transaction.js","name":"domNode","original":{"line":103,"column":12},"generated":{"line":2,"column":2211}},{"source":"transaction.js","name":"domNode","original":{"line":103,"column":12},"generated":{"line":2,"column":2219}},{"source":"transaction.js","name":"measure","original":{"line":103,"column":30},"generated":{"line":2,"column":2223}},{"source":"transaction.js","original":{"line":103,"column":51},"generated":{"line":2,"column":2225}},{"source":"transaction.js","name":"state","original":{"line":103,"column":21},"generated":{"line":2,"column":2230}},{"source":"transaction.js","name":"measure","original":{"line":103,"column":30},"generated":{"line":2,"column":2236}},{"source":"transaction.js","name":"tasks","original":{"line":103,"column":41},"generated":{"line":2,"column":2244}},{"source":"transaction.js","original":{"line":103,"column":51},"generated":{"line":2,"column":2246}},{"source":"transaction.js","name":"tasks","original":{"line":103,"column":41},"generated":{"line":2,"column":2251}},{"source":"transaction.js","name":"takeLastTask","original":{"line":104,"column":10},"generated":{"line":2,"column":2257}},{"source":"transaction.js","name":"tasks","original":{"line":104,"column":25},"generated":{"line":2,"column":2259}},{"source":"transaction.js","name":"pop","original":{"line":104,"column":31},"generated":{"line":2,"column":2261}},{"source":"transaction.js","name":"Transaction","original":{"line":117,"column":11},"generated":{"line":2,"column":2267}},{"source":"transaction.js","name":"aborted","original":{"line":106,"column":9},"generated":{"line":2,"column":2274}},{"source":"transaction.js","name":"aborted","original":{"line":106,"column":9},"generated":{"line":2,"column":2279}},{"source":"transaction.js","original":{"line":106,"column":19},"generated":{"line":2,"column":2288}},{"source":"transaction.js","name":"invokeMiddleware","original":{"line":109,"column":16},"generated":{"line":2,"column":2290}},{"source":"transaction.js","name":"invokeMiddleware","original":{"line":109,"column":16},"generated":{"line":2,"column":2292}},{"source":"transaction.js","original":{"line":109,"column":33},"generated":{"line":2,"column":2309}},{"source":"transaction.js","original":{"line":112,"column":12},"generated":{"line":2,"column":2315}},{"source":"transaction.js","original":{"line":112,"column":12},"generated":{"line":2,"column":2317}},{"source":"transaction.js","name":"push","original":{"line":115,"column":10},"generated":{"line":2,"column":2327}},{"source":"transaction.js","name":"push","original":{"line":115,"column":10},"generated":{"line":2,"column":2329}},{"source":"transaction.js","name":"takeLastTask","original":{"line":115,"column":15},"generated":{"line":2,"column":2334}},{"source":"transaction.js","name":"Transaction","original":{"line":117,"column":11},"generated":{"line":2,"column":2337}},{"source":"transaction.js","name":"flow","original":{"line":117,"column":23},"generated":{"line":2,"column":2339}},{"source":"transaction.js","original":{"line":117,"column":28},"generated":{"line":2,"column":2344}},{"source":"transaction.js","name":"tasks","original":{"line":117,"column":34},"generated":{"line":2,"column":2349}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":2354}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":2355}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":2359}},{"source":"transaction.js","name":"isReturn","original":{"line":125,"column":8},"generated":{"line":2,"column":2367}},{"source":"transaction.js","name":"isReturn","original":{"line":125,"column":8},"generated":{"line":2,"column":2373}},{"source":"transaction.js","name":"isReturn","original":{"line":125,"column":8},"generated":{"line":2,"column":2382}},{"source":"transaction.js","original":{"line":126,"column":22},"generated":{"line":2,"column":2385}},{"source":"transaction.js","name":"state","original":{"line":126,"column":12},"generated":{"line":2,"column":2390}},{"source":"transaction.js","name":"isReturn","original":{"line":132,"column":8},"generated":{"line":2,"column":2396}},{"source":"transaction.js","name":"aborted","original":{"line":128,"column":9},"generated":{"line":2,"column":2399}},{"source":"transaction.js","name":"aborted","original":{"line":128,"column":9},"generated":{"line":2,"column":2404}},{"source":"transaction.js","original":{"line":128,"column":19},"generated":{"line":2,"column":2413}},{"source":"transaction.js","name":"isReturn","original":{"line":132,"column":8},"generated":{"line":2,"column":2415}},{"source":"transaction.js","original":{"line":133,"column":13},"generated":{"line":2,"column":2417}},{"source":"transaction.js","original":{"line":133,"column":13},"generated":{"line":2,"column":2424}},{"source":"transaction.js","name":"tasks","original":{"line":133,"column":18},"generated":{"line":2,"column":2429}},{"source":"transaction.js","original":{"line":133,"column":24},"generated":{"line":2,"column":2435}},{"source":"transaction.js","name":"tasks","original":{"line":133,"column":29},"generated":{"line":2,"column":2440}},{"source":"transaction.js","name":"length","original":{"line":133,"column":35},"generated":{"line":2,"column":2446}},{"source":"transaction.js","original":{"line":133,"column":44},"generated":{"line":2,"column":2453}},{"source":"transaction.js","original":{"line":133,"column":47},"generated":{"line":2,"column":2456}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":2464}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":2465}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":2469}},{"source":"transaction.js","original":{"line":137,"column":8},"generated":{"line":2,"column":2475}},{"source":"transaction.js","original":{"line":137,"column":8},"generated":{"line":2,"column":2481}},{"source":"transaction.js","original":{"line":137,"column":8},"generated":{"line":2,"column":2492}},{"source":"transaction.js","original":{"line":137,"column":8},"generated":{"line":2,"column":2496}},{"source":"transaction.js","original":{"line":137,"column":8},"generated":{"line":2,"column":2498}},{"source":"transaction.js","name":"state","original":{"line":138,"column":12},"generated":{"line":2,"column":2503}},{"source":"transaction.js","original":{"line":138,"column":40},"generated":{"line":2,"column":2505}},{"source":"transaction.js","name":"state","original":{"line":138,"column":12},"generated":{"line":2,"column":2510}},{"source":"transaction.js","name":"domNode","original":{"line":138,"column":19},"generated":{"line":2,"column":2516}},{"source":"transaction.js","original":{"line":138,"column":40},"generated":{"line":2,"column":2518}},{"source":"transaction.js","name":"domNode","original":{"line":138,"column":19},"generated":{"line":2,"column":2523}},{"source":"transaction.js","name":"options","original":{"line":138,"column":28},"generated":{"line":2,"column":2531}},{"source":"transaction.js","original":{"line":138,"column":40},"generated":{"line":2,"column":2533}},{"source":"transaction.js","name":"options","original":{"line":138,"column":28},"generated":{"line":2,"column":2538}},{"source":"transaction.js","name":"measure","original":{"line":139,"column":12},"generated":{"line":2,"column":2546}},{"source":"transaction.js","name":"state","original":{"line":139,"column":24},"generated":{"line":2,"column":2548}},{"source":"transaction.js","name":"measure","original":{"line":139,"column":12},"generated":{"line":2,"column":2550}},{"source":"transaction.js","name":"options","original":{"line":140,"column":22},"generated":{"line":2,"column":2558}},{"source":"transaction.js","name":"inner","original":{"line":140,"column":12},"generated":{"line":2,"column":2560}},{"source":"transaction.js","original":{"line":165,"column":11},"generated":{"line":2,"column":2566}},{"source":"transaction.js","original":{"line":142,"column":12},"generated":{"line":2,"column":2573}},{"source":"transaction.js","original":{"line":142,"column":12},"generated":{"line":2,"column":2575}},{"source":"transaction.js","name":"completed","original":{"line":144,"column":9},"generated":{"line":2,"column":2587}},{"source":"transaction.js","name":"completed","original":{"line":144,"column":9},"generated":{"line":2,"column":2592}},{"source":"transaction.js","original":{"line":144,"column":21},"generated":{"line":2,"column":2603}},{"source":"transaction.js","original":{"line":147,"column":12},"generated":{"line":2,"column":2605}},{"source":"transaction.js","original":{"line":147,"column":12},"generated":{"line":2,"column":2607}},{"source":"transaction.js","original":{"line":148,"column":12},"generated":{"line":2,"column":2619}},{"source":"transaction.js","original":{"line":148,"column":12},"generated":{"line":2,"column":2621}},{"source":"transaction.js","name":"endedCallbacks","original":{"line":152,"column":9},"generated":{"line":2,"column":2631}},{"source":"transaction.js","name":"endedCallbacks","original":{"line":152,"column":9},"generated":{"line":2,"column":2636}},{"source":"transaction.js","name":"forEach","original":{"line":152,"column":24},"generated":{"line":2,"column":2651}},{"source":"transaction.js","original":{"line":152,"column":32},"generated":{"line":2,"column":2659}},{"source":"transaction.js","original":{"line":152,"column":32},"generated":{"line":2,"column":2668}},{"source":"transaction.js","name":"callback","original":{"line":152,"column":44},"generated":{"line":2,"column":2671}},{"source":"transaction.js","name":"callback","original":{"line":152,"column":44},"generated":{"line":2,"column":2678}},{"source":"transaction.js","original":{"line":152,"column":32},"generated":{"line":2,"column":2680}},{"source":"transaction.js","name":"endedCallbacks","original":{"line":153,"column":9},"generated":{"line":2,"column":2685}},{"source":"transaction.js","name":"endedCallbacks","original":{"line":153,"column":9},"generated":{"line":2,"column":2690}},{"source":"transaction.js","name":"clear","original":{"line":153,"column":24},"generated":{"line":2,"column":2705}},{"source":"transaction.js","name":"previousMarkup","original":{"line":157,"column":10},"generated":{"line":2,"column":2713}},{"source":"transaction.js","name":"previousMarkup","original":{"line":157,"column":10},"generated":{"line":2,"column":2715}},{"source":"transaction.js","name":"domNode","original":{"line":157,"column":27},"generated":{"line":2,"column":2730}},{"source":"transaction.js","name":"outerHTML","original":{"line":157,"column":35},"generated":{"line":2,"column":2732}},{"source":"transaction.js","name":"isRendering","original":{"line":158,"column":10},"generated":{"line":2,"column":2742}},{"source":"transaction.js","name":"isRendering","original":{"line":158,"column":10},"generated":{"line":2,"column":2744}},{"source":"transaction.js","original":{"line":158,"column":24},"generated":{"line":2,"column":2757}},{"source":"transaction.js","original":{"line":163,"column":4},"generated":{"line":2,"column":2760}},{"source":"transaction.js","original":{"line":163,"column":4},"generated":{"line":2,"column":2762}},{"source":"transaction.js","original":{"line":163,"column":4},"generated":{"line":2,"column":2764}},{"source":"transaction.js","original":{"line":165,"column":11},"generated":{"line":2,"column":2779}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":2786}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":2787}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":2791}},{"source":"transaction.js","name":"callback","original":{"line":168,"column":12},"generated":{"line":2,"column":2803}},{"source":"transaction.js","name":"callback","original":{"line":168,"column":12},"generated":{"line":2,"column":2809}},{"source":"transaction.js","name":"callback","original":{"line":168,"column":12},"generated":{"line":2,"column":2818}},{"source":"transaction.js","name":"endedCallbacks","original":{"line":169,"column":9},"generated":{"line":2,"column":2821}},{"source":"transaction.js","name":"endedCallbacks","original":{"line":169,"column":9},"generated":{"line":2,"column":2826}},{"source":"transaction.js","name":"add","original":{"line":169,"column":24},"generated":{"line":2,"column":2841}},{"source":"transaction.js","name":"callback","original":{"line":169,"column":28},"generated":{"line":2,"column":2845}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":2852}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":2854}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":2857}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":2865}},{"source":"transaction.js","name":"Transaction","original":{"line":20,"column":21},"generated":{"line":2,"column":2873}}],"sources":{"transaction.js":"import { StateCache, MiddlewareCache } from './util/caches';\nimport { cleanMemory, protectVTree } from './util/memory';\nimport makeMeasure from './util/make-measure';\nimport process from './util/process';\nimport schedule from './tasks/schedule';\nimport shouldUpdate from './tasks/should-update';\nimport reconcileTrees from './tasks/reconcile-trees';\nimport syncTrees from './tasks/sync-trees';\nimport patchNode from './tasks/patch-node';\nimport endAsPromise from './tasks/end-as-promise';\n\nexport const defaultTasks = [\n  schedule, shouldUpdate, reconcileTrees, syncTrees, patchNode, endAsPromise,\n];\n\nexport const tasks = {\n  schedule, shouldUpdate, reconcileTrees, syncTrees, patchNode, endAsPromise\n};\n\nexport default class Transaction {\n  static create(domNode, markup, options) {\n    return new Transaction(domNode, markup, options);\n  }\n\n  static flow(transaction, tasks) {\n    let retVal = transaction;\n\n    // Execute each \"task\" serially, passing the transaction as a baton that\n    // can be used to share state across the tasks.\n    for (let i = 0; i < tasks.length; i++) {\n      // If aborted, don't execute any more tasks.\n      if (transaction.aborted) {\n        return retVal;\n      }\n\n      // Run the task.\n      retVal = tasks[i](transaction);\n\n      // The last `returnValue` is what gets sent to the consumer. This\n      // mechanism is crucial for the `abort`, if you want to modify the \"flow\"\n      // that's fine, but you must ensure that your last task provides a\n      // mechanism to know when the transaction completes. Something like\n      // callbacks or a Promise.\n      if (retVal !== undefined && retVal !== transaction) {\n        return retVal;\n      }\n    }\n  }\n\n  static assert(transaction) {\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof transaction.domNode !== 'object') {\n        throw new Error('Transaction requires a DOM Node mount point');\n      }\n\n      if (transaction.aborted && transaction.completed) {\n        throw new Error('Transaction was previously aborted');\n      }\n\n      if (transaction.completed) {\n        throw new Error('Transaction was previously completed');\n      }\n    }\n  }\n\n  static invokeMiddleware(transaction) {\n    const { tasks } = transaction;\n\n    MiddlewareCache.forEach(fn => {\n      // Invoke all the middleware passing along this transaction as the only\n      // argument. If they return a value (must be a function) it will be added\n      // to the transaction task flow.\n      const result = fn(transaction);\n\n      if (result) {\n        tasks.push(result);\n      }\n    });\n  }\n\n  constructor(domNode, markup, options) {\n    this.domNode = domNode;\n    this.markup = markup;\n    this.options = options;\n\n    this.state = StateCache.get(domNode) || {\n      measure: makeMeasure(domNode, markup),\n    };\n\n    this.tasks = [].concat(options.tasks);\n\n    // Store calls to trigger after the transaction has ended.\n    this.endedCallbacks = new Set();\n\n    StateCache.set(domNode, this.state);\n  }\n\n  start() {\n    if (process.env.NODE_ENV !== 'production') {\n      Transaction.assert(this);\n    }\n\n    const { domNode, state: { measure }, tasks } = this;\n    const takeLastTask = tasks.pop();\n\n    this.aborted = false;\n\n    // Add middleware in as tasks.\n    Transaction.invokeMiddleware(this);\n\n    // Measure the render flow if the user wants to track performance.\n    measure('render');\n\n    // Push back the last task as part of ending the flow.\n    tasks.push(takeLastTask);\n\n    return Transaction.flow(this, tasks);\n  }\n\n  // This will immediately call the last flow task and terminate the flow. We\n  // call the last task to ensure that the control flow completes. This should\n  // end psuedo-synchronously. Think `Promise.resolve()`, `callback()`, and\n  // `return someValue` to provide the most accurate performance reading. This\n  // doesn't matter practically besides that.\n  abort(isReturn) {\n    const { state } = this;\n\n    this.aborted = true;\n\n    // Grab the last task in the flow and return, this task will be responsible\n    // for calling `transaction.end`.\n    if (isReturn) {\n      return this.tasks[this.tasks.length - 1](this);\n    }\n  }\n\n  end() {\n    const { state, domNode, options } = this;\n    const { measure } = state;\n    const { inner } = options;\n\n    measure('finalize');\n\n    this.completed = true;\n\n    // Mark the end to rendering.\n    measure('finalize');\n    measure('render');\n\n    // Trigger all `onceEnded` callbacks, so that middleware can know the\n    // transaction has ended.\n    this.endedCallbacks.forEach(callback => callback(this));\n    this.endedCallbacks.clear();\n\n    // Cache the markup and text for the DOM node to allow for short-circuiting\n    // future render transactions.\n    state.previousMarkup = domNode.outerHTML;\n    state.isRendering = false;\n\n    // Clean up memory before rendering the next transaction, however if\n    // another transaction is running concurrently this will be delayed until\n    // the last render completes.\n    cleanMemory();\n\n    return this;\n  }\n\n  onceEnded(callback) {\n    this.endedCallbacks.add(callback);\n  }\n}\n"},"lineCount":null}},"hash":"43f1672ea9691c8f5f49cb4cf65dcabc","cacheData":{"env":{"NODE_ENV":"development"}}}
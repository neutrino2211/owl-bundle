{"id":"MNZJ","dependencies":[{"name":"/home/tbranyen/git/diffhtml/packages/diffhtml/package.json","includedInParent":true,"mtime":1534977442154},{"name":"/home/tbranyen/git/diffhtml/packages/diffhtml/.babelrc","includedInParent":true,"mtime":1534634600429},{"name":"process","parent":"/home/tbranyen/git/diffhtml/packages/diffhtml/lib/util/make-measure.js","resolved":"/home/tbranyen/git/diffhtml/packages/diffhtml/node_modules/process/browser.js"}],"generated":{"js":"var process = require(\"process\");\nvar e=require(\"process\");Object.defineProperty(exports,\"__esModule\",{value:!0});var r=exports.marks=new Map,o=exports.prefix=\"diffHTML\",a=\"diff_perf\",n=\"undefined\"!=typeof location,t=void 0!==e&&e.argv,f=function(){};exports.default=function(s,c){var i=n&&location.search.includes(a),p=t&&e.argv.includes(a);return i||p?function(e){s&&s.host?e=s.host.constructor.name+\" \"+e:\"function\"==typeof c.rawNodeName&&(e=c.rawNodeName.name+\" \"+e);var a=e+\"-end\";if(r.has(e)){var n=(performance.now()-r.get(e)).toFixed(3);r.delete(e),performance.mark(a),performance.measure(o+\" \"+e+\" (\"+n+\"ms)\",e,a)}else r.set(e,performance.now()),performance.mark(e)}:f};","map":{"mappings":[{"source":"util/make-measure.js","original":{"line":43,"column":1},"generated":{"line":2,"column":0}},{"source":"util/make-measure.js","original":{"line":43,"column":1},"generated":{"line":2,"column":4}},{"source":"util/make-measure.js","original":{"line":43,"column":1},"generated":{"line":2,"column":6}},{"source":"util/make-measure.js","original":{"line":43,"column":1},"generated":{"line":2,"column":14}},{"source":"util/make-measure.js","original":{"line":43,"column":1},"generated":{"line":2,"column":25}},{"source":"util/make-measure.js","original":{"line":43,"column":1},"generated":{"line":2,"column":32}},{"source":"util/make-measure.js","original":{"line":43,"column":1},"generated":{"line":2,"column":47}},{"source":"util/make-measure.js","original":{"line":43,"column":1},"generated":{"line":2,"column":55}},{"source":"util/make-measure.js","original":{"line":43,"column":1},"generated":{"line":2,"column":68}},{"source":"util/make-measure.js","original":{"line":43,"column":1},"generated":{"line":2,"column":69}},{"source":"util/make-measure.js","original":{"line":43,"column":1},"generated":{"line":2,"column":76}},{"source":"util/make-measure.js","original":{"line":1,"column":7},"generated":{"line":2,"column":80}},{"source":"util/make-measure.js","name":"marks","original":{"line":1,"column":13},"generated":{"line":2,"column":84}},{"source":"util/make-measure.js","original":{"line":1,"column":21},"generated":{"line":2,"column":86}},{"source":"util/make-measure.js","original":{"line":1,"column":21},"generated":{"line":2,"column":94}},{"source":"util/make-measure.js","original":{"line":1,"column":21},"generated":{"line":2,"column":100}},{"source":"util/make-measure.js","name":"Map","original":{"line":1,"column":25},"generated":{"line":2,"column":104}},{"source":"util/make-measure.js","name":"prefix","original":{"line":2,"column":13},"generated":{"line":2,"column":108}},{"source":"util/make-measure.js","original":{"line":2,"column":22},"generated":{"line":2,"column":110}},{"source":"util/make-measure.js","original":{"line":2,"column":22},"generated":{"line":2,"column":118}},{"source":"util/make-measure.js","original":{"line":2,"column":22},"generated":{"line":2,"column":125}},{"source":"util/make-measure.js","name":"DIFF_PERF","original":{"line":3,"column":6},"generated":{"line":2,"column":136}},{"source":"util/make-measure.js","original":{"line":3,"column":18},"generated":{"line":2,"column":138}},{"source":"util/make-measure.js","name":"hasSearch","original":{"line":5,"column":6},"generated":{"line":2,"column":150}},{"source":"util/make-measure.js","original":{"line":5,"column":38},"generated":{"line":2,"column":152}},{"source":"util/make-measure.js","name":"location","original":{"line":5,"column":25},"generated":{"line":2,"column":172}},{"source":"util/make-measure.js","name":"hasArguments","original":{"line":6,"column":6},"generated":{"line":2,"column":181}},{"source":"util/make-measure.js","original":{"line":6,"column":40},"generated":{"line":2,"column":188}},{"source":"util/make-measure.js","name":"process","original":{"line":6,"column":28},"generated":{"line":2,"column":192}},{"source":"util/make-measure.js","name":"process","original":{"line":6,"column":55},"generated":{"line":2,"column":195}},{"source":"util/make-measure.js","name":"argv","original":{"line":6,"column":63},"generated":{"line":2,"column":197}},{"source":"util/make-measure.js","name":"nop","original":{"line":7,"column":6},"generated":{"line":2,"column":202}},{"source":"util/make-measure.js","original":{"line":7,"column":12},"generated":{"line":2,"column":204}},{"source":"util/make-measure.js","original":{"line":9,"column":15},"generated":{"line":2,"column":217}},{"source":"util/make-measure.js","original":{"line":9,"column":15},"generated":{"line":2,"column":225}},{"source":"util/make-measure.js","original":{"line":9,"column":15},"generated":{"line":2,"column":233}},{"source":"util/make-measure.js","name":"domNode","original":{"line":9,"column":16},"generated":{"line":2,"column":242}},{"source":"util/make-measure.js","name":"vTree","original":{"line":9,"column":25},"generated":{"line":2,"column":244}},{"source":"util/make-measure.js","name":"wantsSearch","original":{"line":11,"column":8},"generated":{"line":2,"column":247}},{"source":"util/make-measure.js","name":"wantsSearch","original":{"line":11,"column":8},"generated":{"line":2,"column":251}},{"source":"util/make-measure.js","name":"hasSearch","original":{"line":11,"column":22},"generated":{"line":2,"column":253}},{"source":"util/make-measure.js","name":"location","original":{"line":11,"column":35},"generated":{"line":2,"column":256}},{"source":"util/make-measure.js","name":"search","original":{"line":11,"column":44},"generated":{"line":2,"column":265}},{"source":"util/make-measure.js","name":"includes","original":{"line":11,"column":51},"generated":{"line":2,"column":272}},{"source":"util/make-measure.js","name":"DIFF_PERF","original":{"line":11,"column":60},"generated":{"line":2,"column":281}},{"source":"util/make-measure.js","name":"wantsArguments","original":{"line":12,"column":8},"generated":{"line":2,"column":284}},{"source":"util/make-measure.js","name":"hasArguments","original":{"line":12,"column":25},"generated":{"line":2,"column":286}},{"source":"util/make-measure.js","name":"process","original":{"line":12,"column":41},"generated":{"line":2,"column":289}},{"source":"util/make-measure.js","name":"argv","original":{"line":12,"column":49},"generated":{"line":2,"column":291}},{"source":"util/make-measure.js","name":"includes","original":{"line":12,"column":54},"generated":{"line":2,"column":296}},{"source":"util/make-measure.js","name":"DIFF_PERF","original":{"line":12,"column":63},"generated":{"line":2,"column":305}},{"source":"util/make-measure.js","original":{"line":17,"column":6},"generated":{"line":2,"column":308}},{"source":"util/make-measure.js","name":"wantsSearch","original":{"line":13,"column":26},"generated":{"line":2,"column":315}},{"source":"util/make-measure.js","name":"wantsArguments","original":{"line":13,"column":41},"generated":{"line":2,"column":318}},{"source":"util/make-measure.js","original":{"line":19,"column":9},"generated":{"line":2,"column":320}},{"source":"util/make-measure.js","original":{"line":19,"column":17},"generated":{"line":2,"column":329}},{"source":"util/make-measure.js","name":"domNode","original":{"line":21,"column":8},"generated":{"line":2,"column":332}},{"source":"util/make-measure.js","name":"domNode","original":{"line":21,"column":19},"generated":{"line":2,"column":335}},{"source":"util/make-measure.js","name":"host","original":{"line":21,"column":27},"generated":{"line":2,"column":337}},{"source":"util/make-measure.js","name":"domNode","original":{"line":22,"column":16},"generated":{"line":2,"column":342}},{"source":"util/make-measure.js","name":"domNode","original":{"line":22,"column":16},"generated":{"line":2,"column":344}},{"source":"util/make-measure.js","name":"host","original":{"line":22,"column":24},"generated":{"line":2,"column":346}},{"source":"util/make-measure.js","name":"constructor","original":{"line":22,"column":29},"generated":{"line":2,"column":351}},{"source":"util/make-measure.js","name":"name","original":{"line":22,"column":41},"generated":{"line":2,"column":363}},{"source":"util/make-measure.js","name":"name","original":{"line":22,"column":49},"generated":{"line":2,"column":368}},{"source":"util/make-measure.js","name":"name","original":{"line":22,"column":49},"generated":{"line":2,"column":372}},{"source":"util/make-measure.js","original":{"line":24,"column":42},"generated":{"line":2,"column":374}},{"source":"util/make-measure.js","name":"vTree","original":{"line":24,"column":20},"generated":{"line":2,"column":393}},{"source":"util/make-measure.js","name":"rawNodeName","original":{"line":24,"column":26},"generated":{"line":2,"column":395}},{"source":"util/make-measure.js","name":"vTree","original":{"line":25,"column":16},"generated":{"line":2,"column":409}},{"source":"util/make-measure.js","name":"vTree","original":{"line":25,"column":16},"generated":{"line":2,"column":411}},{"source":"util/make-measure.js","name":"rawNodeName","original":{"line":25,"column":22},"generated":{"line":2,"column":413}},{"source":"util/make-measure.js","name":"name","original":{"line":25,"column":34},"generated":{"line":2,"column":425}},{"source":"util/make-measure.js","name":"name","original":{"line":25,"column":42},"generated":{"line":2,"column":430}},{"source":"util/make-measure.js","name":"name","original":{"line":25,"column":42},"generated":{"line":2,"column":434}},{"source":"util/make-measure.js","name":"endName","original":{"line":28,"column":10},"generated":{"line":2,"column":437}},{"source":"util/make-measure.js","name":"endName","original":{"line":28,"column":10},"generated":{"line":2,"column":441}},{"source":"util/make-measure.js","name":"name","original":{"line":28,"column":23},"generated":{"line":2,"column":443}},{"source":"util/make-measure.js","original":{"line":28,"column":4},"generated":{"line":2,"column":445}},{"source":"util/make-measure.js","original":{"line":30,"column":8},"generated":{"line":2,"column":452}},{"source":"util/make-measure.js","name":"marks","original":{"line":30,"column":9},"generated":{"line":2,"column":455}},{"source":"util/make-measure.js","name":"has","original":{"line":30,"column":15},"generated":{"line":2,"column":457}},{"source":"util/make-measure.js","name":"name","original":{"line":30,"column":19},"generated":{"line":2,"column":461}},{"source":"util/make-measure.js","original":{"line":34,"column":9},"generated":{"line":2,"column":464}},{"source":"util/make-measure.js","name":"totalMs","original":{"line":35,"column":12},"generated":{"line":2,"column":465}},{"source":"util/make-measure.js","name":"totalMs","original":{"line":35,"column":12},"generated":{"line":2,"column":469}},{"source":"util/make-measure.js","name":"performance","original":{"line":35,"column":23},"generated":{"line":2,"column":472}},{"source":"util/make-measure.js","name":"now","original":{"line":35,"column":35},"generated":{"line":2,"column":484}},{"source":"util/make-measure.js","name":"marks","original":{"line":35,"column":43},"generated":{"line":2,"column":490}},{"source":"util/make-measure.js","name":"get","original":{"line":35,"column":49},"generated":{"line":2,"column":492}},{"source":"util/make-measure.js","name":"name","original":{"line":35,"column":53},"generated":{"line":2,"column":496}},{"source":"util/make-measure.js","name":"toFixed","original":{"line":35,"column":60},"generated":{"line":2,"column":500}},{"source":"util/make-measure.js","original":{"line":35,"column":68},"generated":{"line":2,"column":508}},{"source":"util/make-measure.js","name":"delete","original":{"line":37,"column":12},"generated":{"line":2,"column":511}},{"source":"util/make-measure.js","name":"delete","original":{"line":37,"column":12},"generated":{"line":2,"column":513}},{"source":"util/make-measure.js","name":"name","original":{"line":37,"column":19},"generated":{"line":2,"column":520}},{"source":"util/make-measure.js","name":"mark","original":{"line":39,"column":18},"generated":{"line":2,"column":523}},{"source":"util/make-measure.js","name":"mark","original":{"line":39,"column":18},"generated":{"line":2,"column":535}},{"source":"util/make-measure.js","name":"endName","original":{"line":39,"column":23},"generated":{"line":2,"column":540}},{"source":"util/make-measure.js","name":"measure","original":{"line":40,"column":18},"generated":{"line":2,"column":543}},{"source":"util/make-measure.js","name":"measure","original":{"line":40,"column":18},"generated":{"line":2,"column":555}},{"source":"util/make-measure.js","name":"prefix","original":{"line":40,"column":29},"generated":{"line":2,"column":563}},{"source":"util/make-measure.js","name":"name","original":{"line":40,"column":39},"generated":{"line":2,"column":565}},{"source":"util/make-measure.js","name":"name","original":{"line":40,"column":39},"generated":{"line":2,"column":569}},{"source":"util/make-measure.js","name":"totalMs","original":{"line":40,"column":48},"generated":{"line":2,"column":571}},{"source":"util/make-measure.js","name":"totalMs","original":{"line":40,"column":48},"generated":{"line":2,"column":576}},{"source":"util/make-measure.js","name":"name","original":{"line":40,"column":62},"generated":{"line":2,"column":578}},{"source":"util/make-measure.js","name":"name","original":{"line":40,"column":62},"generated":{"line":2,"column":584}},{"source":"util/make-measure.js","name":"endName","original":{"line":40,"column":68},"generated":{"line":2,"column":586}},{"source":"util/make-measure.js","name":"set","original":{"line":31,"column":12},"generated":{"line":2,"column":594}},{"source":"util/make-measure.js","name":"set","original":{"line":31,"column":12},"generated":{"line":2,"column":596}},{"source":"util/make-measure.js","name":"name","original":{"line":31,"column":16},"generated":{"line":2,"column":600}},{"source":"util/make-measure.js","name":"performance","original":{"line":31,"column":22},"generated":{"line":2,"column":602}},{"source":"util/make-measure.js","name":"now","original":{"line":31,"column":34},"generated":{"line":2,"column":614}},{"source":"util/make-measure.js","name":"mark","original":{"line":32,"column":18},"generated":{"line":2,"column":621}},{"source":"util/make-measure.js","name":"mark","original":{"line":32,"column":18},"generated":{"line":2,"column":633}},{"source":"util/make-measure.js","name":"name","original":{"line":32,"column":23},"generated":{"line":2,"column":638}},{"source":"util/make-measure.js","name":"nop","original":{"line":17,"column":33},"generated":{"line":2,"column":642}}],"sources":{"util/make-measure.js":"export const marks = new Map();\nexport const prefix = 'diffHTML';\nconst DIFF_PERF = 'diff_perf';\n\nconst hasSearch = typeof location !== 'undefined';\nconst hasArguments = typeof process !== 'undefined' && process.argv;\nconst nop = () => {};\n\nexport default (domNode, vTree) => {\n  // Check for these changes on every check.\n  const wantsSearch = hasSearch && location.search.includes(DIFF_PERF);\n  const wantsArguments = hasArguments && process.argv.includes(DIFF_PERF);\n  const wantsPerfChecks = wantsSearch || wantsArguments;\n\n  // If the user has not requested they want perf checks, return a nop\n  // function.\n  if (!wantsPerfChecks) { return nop; }\n\n  return name => {\n    // Use the Web Component name if it's available.\n    if (domNode && domNode.host) {\n      name = `${domNode.host.constructor.name} ${name}`;\n    }\n    else if (typeof vTree.rawNodeName === 'function') {\n      name = `${vTree.rawNodeName.name} ${name}`;\n    }\n\n    const endName = `${name}-end`;\n\n    if (!marks.has(name)) {\n      marks.set(name, performance.now());\n      performance.mark(name);\n    }\n    else {\n      const totalMs = (performance.now() - marks.get(name)).toFixed(3);\n\n      marks.delete(name);\n\n      performance.mark(endName);\n      performance.measure(`${prefix} ${name} (${totalMs}ms)`, name, endName);\n    }\n  };\n};\n"},"lineCount":null}},"hash":"25a89fc90e70f5a4baf0b039b87cdab4","cacheData":{"env":{}}}
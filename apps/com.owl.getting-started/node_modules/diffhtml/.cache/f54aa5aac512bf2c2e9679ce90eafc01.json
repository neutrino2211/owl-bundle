{"id":"uR/C","dependencies":[{"name":"/home/tbranyen/git/diffhtml/packages/diffhtml/package.json","includedInParent":true,"mtime":1534977442154},{"name":"/home/tbranyen/git/diffhtml/packages/diffhtml/.babelrc","includedInParent":true,"mtime":1534634600429}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});for(var e=1e4,t=new Set,d=new Set,o=new Set,a=function(){return{rawNodeName:\"\",nodeName:\"\",nodeValue:\"\",nodeType:1,key:\"\",childNodes:[],attributes:{}}},n={free:t,allocated:d,protected:o},r=0;r<e;r++)t.add(a());var u=t.values();exports.default={size:e,memory:n,get:function(){var e=u.next(),o=e.value,n=void 0===o?a():o;return e.done&&(u=t.values()),t.delete(n),d.add(n),n},protect:function(e){d.delete(e),o.add(e)},unprotect:function(e){o.has(e)&&(o.delete(e),t.add(e))}};","map":{"mappings":[{"source":"util/pool.js","original":{"line":30,"column":15},"generated":{"line":1,"column":0}},{"source":"util/pool.js","original":{"line":30,"column":15},"generated":{"line":1,"column":13}},{"source":"util/pool.js","original":{"line":30,"column":15},"generated":{"line":1,"column":20}},{"source":"util/pool.js","original":{"line":30,"column":15},"generated":{"line":1,"column":35}},{"source":"util/pool.js","original":{"line":30,"column":15},"generated":{"line":1,"column":43}},{"source":"util/pool.js","original":{"line":30,"column":15},"generated":{"line":1,"column":56}},{"source":"util/pool.js","original":{"line":30,"column":15},"generated":{"line":1,"column":57}},{"source":"util/pool.js","original":{"line":30,"column":15},"generated":{"line":1,"column":64}},{"source":"util/pool.js","original":{"line":21,"column":0},"generated":{"line":1,"column":68}},{"source":"util/pool.js","original":{"line":2,"column":0},"generated":{"line":1,"column":72}},{"source":"util/pool.js","name":"size","original":{"line":2,"column":6},"generated":{"line":1,"column":76}},{"source":"util/pool.js","original":{"line":2,"column":13},"generated":{"line":1,"column":78}},{"source":"util/pool.js","name":"free","original":{"line":4,"column":6},"generated":{"line":1,"column":82}},{"source":"util/pool.js","original":{"line":4,"column":13},"generated":{"line":1,"column":84}},{"source":"util/pool.js","name":"Set","original":{"line":4,"column":17},"generated":{"line":1,"column":88}},{"source":"util/pool.js","name":"allocate","original":{"line":5,"column":6},"generated":{"line":1,"column":92}},{"source":"util/pool.js","original":{"line":5,"column":17},"generated":{"line":1,"column":94}},{"source":"util/pool.js","name":"Set","original":{"line":5,"column":21},"generated":{"line":1,"column":98}},{"source":"util/pool.js","name":"protect","original":{"line":6,"column":6},"generated":{"line":1,"column":102}},{"source":"util/pool.js","original":{"line":6,"column":16},"generated":{"line":1,"column":104}},{"source":"util/pool.js","name":"Set","original":{"line":6,"column":20},"generated":{"line":1,"column":108}},{"source":"util/pool.js","name":"shape","original":{"line":7,"column":6},"generated":{"line":1,"column":112}},{"source":"util/pool.js","original":{"line":7,"column":14},"generated":{"line":1,"column":114}},{"source":"util/pool.js","original":{"line":7,"column":21},"generated":{"line":1,"column":125}},{"source":"util/pool.js","original":{"line":7,"column":21},"generated":{"line":1,"column":131}},{"source":"util/pool.js","original":{"line":8,"column":15},"generated":{"line":1,"column":132}},{"source":"util/pool.js","original":{"line":8,"column":15},"generated":{"line":1,"column":144}},{"source":"util/pool.js","original":{"line":9,"column":12},"generated":{"line":1,"column":147}},{"source":"util/pool.js","original":{"line":9,"column":12},"generated":{"line":1,"column":156}},{"source":"util/pool.js","original":{"line":10,"column":13},"generated":{"line":1,"column":159}},{"source":"util/pool.js","original":{"line":10,"column":13},"generated":{"line":1,"column":169}},{"source":"util/pool.js","original":{"line":11,"column":12},"generated":{"line":1,"column":172}},{"source":"util/pool.js","original":{"line":11,"column":12},"generated":{"line":1,"column":181}},{"source":"util/pool.js","original":{"line":12,"column":7},"generated":{"line":1,"column":183}},{"source":"util/pool.js","original":{"line":12,"column":7},"generated":{"line":1,"column":187}},{"source":"util/pool.js","original":{"line":13,"column":14},"generated":{"line":1,"column":190}},{"source":"util/pool.js","original":{"line":13,"column":14},"generated":{"line":1,"column":201}},{"source":"util/pool.js","original":{"line":14,"column":14},"generated":{"line":1,"column":204}},{"source":"util/pool.js","original":{"line":14,"column":14},"generated":{"line":1,"column":215}},{"source":"util/pool.js","name":"memory","original":{"line":18,"column":6},"generated":{"line":1,"column":220}},{"source":"util/pool.js","original":{"line":18,"column":15},"generated":{"line":1,"column":222}},{"source":"util/pool.js","name":"free","original":{"line":18,"column":17},"generated":{"line":1,"column":223}},{"source":"util/pool.js","original":{"line":18,"column":15},"generated":{"line":1,"column":228}},{"source":"util/pool.js","name":"allocated","original":{"line":18,"column":23},"generated":{"line":1,"column":230}},{"source":"util/pool.js","name":"allocate","original":{"line":18,"column":34},"generated":{"line":1,"column":240}},{"source":"util/pool.js","name":"protected","original":{"line":18,"column":44},"generated":{"line":1,"column":242}},{"source":"util/pool.js","name":"protect","original":{"line":18,"column":55},"generated":{"line":1,"column":252}},{"source":"util/pool.js","name":"i","original":{"line":21,"column":9},"generated":{"line":1,"column":255}},{"source":"util/pool.js","original":{"line":21,"column":13},"generated":{"line":1,"column":257}},{"source":"util/pool.js","name":"i","original":{"line":21,"column":16},"generated":{"line":1,"column":259}},{"source":"util/pool.js","name":"size","original":{"line":21,"column":20},"generated":{"line":1,"column":261}},{"source":"util/pool.js","name":"i","original":{"line":21,"column":26},"generated":{"line":1,"column":263}},{"source":"util/pool.js","name":"add","original":{"line":22,"column":7},"generated":{"line":1,"column":267}},{"source":"util/pool.js","name":"add","original":{"line":22,"column":7},"generated":{"line":1,"column":269}},{"source":"util/pool.js","name":"shape","original":{"line":22,"column":11},"generated":{"line":1,"column":273}},{"source":"util/pool.js","original":{"line":27,"column":0},"generated":{"line":1,"column":278}},{"source":"util/pool.js","name":"freeValues","original":{"line":27,"column":4},"generated":{"line":1,"column":282}},{"source":"util/pool.js","name":"free","original":{"line":27,"column":17},"generated":{"line":1,"column":284}},{"source":"util/pool.js","name":"values","original":{"line":27,"column":22},"generated":{"line":1,"column":286}},{"source":"util/pool.js","original":{"line":30,"column":15},"generated":{"line":1,"column":295}},{"source":"util/pool.js","original":{"line":30,"column":15},"generated":{"line":1,"column":303}},{"source":"util/pool.js","original":{"line":30,"column":15},"generated":{"line":1,"column":311}},{"source":"util/pool.js","original":{"line":30,"column":15},"generated":{"line":1,"column":312}},{"source":"util/pool.js","original":{"line":30,"column":15},"generated":{"line":1,"column":317}},{"source":"util/pool.js","original":{"line":30,"column":15},"generated":{"line":1,"column":319}},{"source":"util/pool.js","original":{"line":30,"column":15},"generated":{"line":1,"column":326}},{"source":"util/pool.js","original":{"line":30,"column":15},"generated":{"line":1,"column":328}},{"source":"util/pool.js","original":{"line":34,"column":8},"generated":{"line":1,"column":332}},{"source":"util/pool.js","name":"freeValues","original":{"line":35,"column":38},"generated":{"line":1,"column":343}},{"source":"util/pool.js","name":"freeValues","original":{"line":35,"column":38},"generated":{"line":1,"column":347}},{"source":"util/pool.js","name":"freeValues","original":{"line":35,"column":38},"generated":{"line":1,"column":349}},{"source":"util/pool.js","name":"next","original":{"line":35,"column":49},"generated":{"line":1,"column":351}},{"source":"util/pool.js","name":"value","original":{"line":35,"column":12},"generated":{"line":1,"column":358}},{"source":"util/pool.js","name":"value","original":{"line":35,"column":12},"generated":{"line":1,"column":360}},{"source":"util/pool.js","name":"value","original":{"line":35,"column":12},"generated":{"line":1,"column":362}},{"source":"util/pool.js","name":"value","original":{"line":35,"column":12},"generated":{"line":1,"column":368}},{"source":"util/pool.js","name":"shape","original":{"line":35,"column":20},"generated":{"line":1,"column":375}},{"source":"util/pool.js","name":"shape","original":{"line":35,"column":20},"generated":{"line":1,"column":379}},{"source":"util/pool.js","name":"shape","original":{"line":35,"column":20},"generated":{"line":1,"column":381}},{"source":"util/pool.js","original":{"line":34,"column":8},"generated":{"line":1,"column":385}},{"source":"util/pool.js","name":"value","original":{"line":45,"column":11},"generated":{"line":1,"column":387}},{"source":"util/pool.js","name":"done","original":{"line":35,"column":29},"generated":{"line":1,"column":394}},{"source":"util/pool.js","name":"done","original":{"line":35,"column":29},"generated":{"line":1,"column":396}},{"source":"util/pool.js","name":"free","original":{"line":40,"column":19},"generated":{"line":1,"column":403}},{"source":"util/pool.js","name":"free","original":{"line":40,"column":19},"generated":{"line":1,"column":405}},{"source":"util/pool.js","name":"values","original":{"line":40,"column":24},"generated":{"line":1,"column":407}},{"source":"util/pool.js","name":"delete","original":{"line":43,"column":9},"generated":{"line":1,"column":417}},{"source":"util/pool.js","name":"delete","original":{"line":43,"column":9},"generated":{"line":1,"column":419}},{"source":"util/pool.js","name":"value","original":{"line":43,"column":16},"generated":{"line":1,"column":426}},{"source":"util/pool.js","name":"add","original":{"line":44,"column":13},"generated":{"line":1,"column":429}},{"source":"util/pool.js","name":"add","original":{"line":44,"column":13},"generated":{"line":1,"column":431}},{"source":"util/pool.js","name":"value","original":{"line":44,"column":17},"generated":{"line":1,"column":435}},{"source":"util/pool.js","name":"value","original":{"line":45,"column":11},"generated":{"line":1,"column":438}},{"source":"util/pool.js","original":{"line":30,"column":15},"generated":{"line":1,"column":441}},{"source":"util/pool.js","name":"value","original":{"line":48,"column":10},"generated":{"line":1,"column":449}},{"source":"util/pool.js","name":"value","original":{"line":48,"column":10},"generated":{"line":1,"column":458}},{"source":"util/pool.js","name":"delete","original":{"line":49,"column":13},"generated":{"line":1,"column":461}},{"source":"util/pool.js","name":"delete","original":{"line":49,"column":13},"generated":{"line":1,"column":463}},{"source":"util/pool.js","name":"value","original":{"line":49,"column":20},"generated":{"line":1,"column":470}},{"source":"util/pool.js","name":"add","original":{"line":50,"column":12},"generated":{"line":1,"column":473}},{"source":"util/pool.js","name":"add","original":{"line":50,"column":12},"generated":{"line":1,"column":475}},{"source":"util/pool.js","name":"value","original":{"line":50,"column":16},"generated":{"line":1,"column":479}},{"source":"util/pool.js","original":{"line":30,"column":15},"generated":{"line":1,"column":483}},{"source":"util/pool.js","name":"value","original":{"line":53,"column":12},"generated":{"line":1,"column":493}},{"source":"util/pool.js","name":"value","original":{"line":53,"column":12},"generated":{"line":1,"column":502}},{"source":"util/pool.js","name":"protect","original":{"line":54,"column":8},"generated":{"line":1,"column":505}},{"source":"util/pool.js","name":"has","original":{"line":54,"column":16},"generated":{"line":1,"column":507}},{"source":"util/pool.js","name":"value","original":{"line":54,"column":20},"generated":{"line":1,"column":511}},{"source":"util/pool.js","name":"delete","original":{"line":55,"column":14},"generated":{"line":1,"column":516}},{"source":"util/pool.js","name":"delete","original":{"line":55,"column":14},"generated":{"line":1,"column":518}},{"source":"util/pool.js","name":"value","original":{"line":55,"column":21},"generated":{"line":1,"column":525}},{"source":"util/pool.js","name":"add","original":{"line":56,"column":11},"generated":{"line":1,"column":528}},{"source":"util/pool.js","name":"add","original":{"line":56,"column":11},"generated":{"line":1,"column":530}},{"source":"util/pool.js","name":"value","original":{"line":56,"column":15},"generated":{"line":1,"column":534}}],"sources":{"util/pool.js":"// A modest size.\nconst size = 10000;\n\nconst free = new Set();\nconst allocate = new Set();\nconst protect = new Set();\nconst shape = () => ({\n  rawNodeName: '',\n  nodeName: '',\n  nodeValue: '',\n  nodeType: 1,\n  key: '',\n  childNodes: [],\n  attributes: {},\n});\n\n// Creates a pool to query new or reused values from.\nconst memory = { free, allocated: allocate, protected: protect };\n\n// Prime the free memory pool with VTrees.\nfor (let i = 0; i < size; i++) {\n  free.add(shape());\n}\n\n// Cache the values object, we'll refer to this iterator which is faster\n// than calling it every single time. It gets replaced once exhausted.\nlet freeValues = free.values();\n\n// Cache VTree objects in a pool which is used to get\nexport default {\n  size,\n  memory,\n\n  get() {\n    const { value = shape(), done } = freeValues.next();\n\n    // This extra bit of work allows us to avoid calling `free.values()` every\n    // single time an object is needed.\n    if (done) {\n      freeValues = free.values();\n    }\n\n    free.delete(value);\n    allocate.add(value);\n    return value;\n  },\n\n  protect(value) {\n    allocate.delete(value);\n    protect.add(value);\n  },\n\n  unprotect(value) {\n    if (protect.has(value)) {\n      protect.delete(value);\n      free.add(value);\n    }\n  },\n};\n"},"lineCount":null}},"hash":"292498f3cf4b6cbb4d71c0d1cc75d852","cacheData":{"env":{}}}